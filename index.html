<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>non-plan</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons+Round">
    <link rel="icon" href="./assets/favicon.ico" type="image/x-icon">
</head>
<body>
    <div id="app">
        <main id="content" >
            <div class="page" id = "projectDetails" style = "display: flex">
                <dialog id = "DeleteProjectModal">
                    <form class="userForm" id = "DeleteNewUserForm">
                        <h2>Are you sure you want to delete the project?</h2>
                        <div class= "cancelAccept">
                            <button type="button" class =cancelButton onclick="closeModal('DeleteProjectModal')">Cancel</button>
                            <button type="button" class="acceptButton" id="ConfirmDeleteButton">Delete</button>
                        </div>
                    </form>
                </dialog>
                <dialog id = "editProjectModal">
                    <form class="userForm" id = "editProjectForm">
                        <h2>Edit Project</h2>
                        <div class= "userCard">
                            <div class = "formFieldContainer">
                                <label><span class="material-icons-round">apartment</span>Name</label>
                                <input name = "name" type="text" id="projectNameInput" />
                                <label style="font-size: 12px; font-style: italic; padding-top: 5px;">TIP give it a short name</label>
                            </div>
                            <div class = "formFieldContainer">
                                <label><span class="material-icons-round">subject</span>Description</label>
                                <textarea name = "description" cols="30" rows="5" placeholder="Give your project a nice description!" id="projectDescriptionInput" ></textarea>
                            </div>
                            <div class = "formFieldContainer">
                                <label><span class="material-icons-round">pin_drop</span>Location</label>
                                <input name = "location" type="text" placeholder="Where is your project located?" id="projectLocationInput">
                                <label style="font-size: 12px; font-style: italic; padding-top: 5px;"></label>
                            </div>
                            <div class = "formFieldContainer">
                                <label><span class="material-icons-round">percent</span>Estimated progress</label>
                                <input name = "progress" type="number" placeholder="What's the estimated progress of the project?" id="projectProgressInput" >
                                <label style="font-size: 12px; font-style: italic; padding-top: 5px;" >Estimated cost of the project</label>
                            </div>
                            <div class = "formFieldContainer">
                                <label><span class="material-icons-round">paid</span>Estimated cost</label>
                                <input name = "cost" type="number" placeholder="What's the estimated cost of the project?" id="projectCostInput" >
                                <label style="font-size: 12px; font-style: italic; padding-top: 5px;" >Estimated cost of the project</label>
                            </div>
                            <div class = "formFieldContainer">
                                <label><span class="material-icons-round">account_circle</span>Role</label>
                                <select name = "userRole" id="projectRoleInput">
                                    <option>not defined</option>
                                    <option>Architect</option>
                                    <option>Engineer</option>
                                    <option>Developer</option>
                                </select>
                            </div>
                            <div class = "formFieldContainer">
                                <label><span class="material-icons-round">not_listed_location</span>Status</label>
                                <select name = "status" id="projectStatusInput">
                                    <option>Pending</option>
                                    <option>Active</option>
                                    <option>Finished</option>
                                </select>
                            </div>
                            <div class = "formFieldContainer">
                                <label><span class="material-icons-round">calendar_view_week</span>Design Phase</label>
                                <select name = "phase" id="projectPhaseInput">
                                    <option>Design</option>
                                    <option>Construction project</option>
                                    <option>Execution</option>
                                    <option>Construction</option>
                                </select>
                            </div>
                            <div class = "formFieldContainer">
                                <label><span class="material-icons-round">calendar_today</span>Start Date</label>
                                <input name = startDate type="date" id="projectStartPDInput">
                            </div>
                            <div class = "formFieldContainer">
                                <label><span class="material-icons-round">calendar_month</span>Finish Date</label>
                                <input name = finishDate type="date" id="projectFinishPDInput">
                            </div>
                        </div>
                        <div class= "cancelAccept">
                            <button type="button" class =cancelButton onclick="closeModal('editProjectModal')">Cancel</button>
                            <button type="button" class="acceptButton" id="changeProjectButton">Change</button>
                        </div>
                    </form>
                </dialog>
                <dialog id="newToDoModal">
                    <form class="toDoForm" id="newToDoForm">
                        <input type="hidden" name="toDoProject" id="toDoProject" />
                        <div class="userCard">
                            <div class="formGrid">
                                <div class="formColumn">
                                    <h2 style="margin: 0;">Add a Task</h2>
                                    <div class="formFieldContainerToDo">
                                        <label><span class="material-icons-round">apartment</span>Title</label>
                                        <input name="toDoTitle" type="text" id="toDoTitle" />
                                        <label style="font-size: 12px; font-style: italic; padding-top: 5px;">TIP give it a short title</label>
                                    </div>
                                    <div class="formFieldContainer">
                                        <label><span class="material-icons-round">subject</span>Description</label>
                                        <textarea name="toDoDescription" cols="30" rows="5" placeholder="Give your project a nice description!" id="toDoDescription"></textarea>
                                    </div>
                                    <div class="formFieldContainer">
                                        <label><span class="material-icons-round">not_listed_location</span>Status</label>
                                        <select name="toDoStatus" id="toDoStatus">
                                            <option>Pending</option>
                                            <option>In Progress</option>
                                            <option>Completed</option>
                                            <option>On Hold</option>
                                        </select>
                                    </div>
                                    <div class="formFieldContainer">
                                        <label><span class="material-icons-round">not_listed_location</span>Priority</label>
                                        <select name="toDoPriority" id="toDoPriority">
                                            <option>High</option>
                                            <option>Standard</option>
                                            <option>Low</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="formColumn">
                                    <div class="formFieldContainerToDo">
                                        <h2 data-project-info="toDoProjectName" style="margin: 0;">Project Name</h2>
                                    </div>
                                    <div class="formFieldContainer">
                                        <label><span class="material-icons-round">not_listed_location</span>Responsible Person</label>
                                        <select name="toDoAssignedTo" id="toDoAssignedTo">
                                        <!-- Options will be dynamically populated -->
                                        </select>
                                    </div>
                                    <div class="formFieldContainer">
                                        <label><span class="material-icons-round">not_listed_location</span>Created By</label>
                                        <select name="toDoCreatedBy" id="toDoCreatedBy">
                                            <!-- Options will be dynamically populated -->
                                    </select>
                                    </div>
                                    <div class="formFieldContainer">
                                        <label><span class="material-icons-round">calendar_today</span>To-Do start date</label>
                                        <span id="currentDate" class="formatted-date"></span>
                                    </div>
                                    <div class="formFieldContainer">
                                        <label><span class="material-icons-round">calendar_month</span>To-Do last update date</label>
                                        <span id="updateDate" class="formatted-date"></span>
                                    </div>
                                    <div class="formFieldContainer">
                                        <label><span class="material-icons-round">paid</span>Estimated hours</label>
                                        <input name="toDoEstimatedHours" type="number" placeholder="What's the estimated cost of the project?" id="projectCostInput">
                                        <label style="font-size: 12px; font-style: italic; padding-top: 5px;">Estimated hours for the project</label>
                                    </div>
                                    <div class="formFieldContainer">
                                        <label><span class="material-icons-round">paid</span>Actual hours</label>
                                        <input name="toDoActualHours" type="number" placeholder="What's the estimated cost of the project?" id="projectCostInput">
                                        <label style="font-size: 12px; font-style: italic; padding-top: 5px;">hours used so far</label>
                                    </div>
                                </div>
                            </div>
                            <div class="separator-horizontal"></div>
                            <div class="formGrid">
                                <div class="formColumn">
                                    <div class="formFieldContainer">
                                        <label><span class="material-icons-round">calendar_month</span>Due Date</label>
                                        <input name="toDoDueDate" type="date" id="projectFinishPDInput">
                                    </div>
                                    <div class="formFieldContainer">
                                        <label><span class="material-icons-round">calendar_month</span>Start Date</label>
                                        <input name="toDoStartDate" type="date" id="projectFinishPDInput">
                                    </div>                              
                                </div>
                                <div class="formColumn">
                                    <div class="formFieldContainer">
                                        <label><span class="material-icons-round">not_listed_location</span>Dependancies</label>
                                        <label style="font-size: 12px; font-style: italic; padding-top: 5px;">select the tasks this project is dependant of</label>
                                        <select name="status" id="toDoPriority">
                                            <option>You</option>
                                            <option>Standard</option>
                                            <option>Low</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        <div class="separator-horizontal"></div>
                        <div class="formFieldContainer">
                            <label><span class="material-icons-round">subject</span>Comments</label>
                            <textarea name="toDoComments" cols="30" rows="5" placeholder="Add any clarification comment" id="projectDescriptionInput"></textarea>
                        </div>
                            
                        </div>
                        <div class="cancelAccept">
                            <button type="button" class="cancelButton" onclick="closeModal('newToDoModal')">Cancel</button>
                            <button type="submit" class="acceptButton" id="submitToDoButton">Accept</button>
                        </div>
                    </form>
                </dialog>
                <dialog id="editToDoModal">
                    <form class="toDoForm" id="editToDoForm">
                        <input type="hidden" id="editToDoId" name="editToDoId">
                        <!-- Other form fields... -->
                        <div class="userCard">
                            <div class="formGrid">
                                <div class="formColumn">
                                    <h2 style="margin: 0;">Edit Task</h2>
                                    <div class="formFieldContainerToDo">
                                        <label><span class="material-icons-round">apartment</span>Title</label>
                                        <input name="toDoTitle" type="text" id="editToDoTitle" />
                                        <label style="font-size: 12px; font-style: italic; padding-top: 5px;">TIP give it a short title</label>
                                    </div>
                                    <div class="formFieldContainer">
                                        <label><span class="material-icons-round">subject</span>Description</label>
                                        <textarea name="toDoDescription" cols="30" rows="5" placeholder="Give your project a nice description!" id="editToDoDescription"></textarea>
                                    </div>
                                    <div class="formFieldContainer">
                                        <label><span class="material-icons-round">not_listed_location</span>Status</label>
                                        <select name="toDoStatus" id="editToDoStatus">
                                            <option>Pending</option>
                                            <option>In Progress</option>
                                            <option>Completed</option>
                                            <option>On Hold</option>
                                        </select>
                                    </div>
                                    <div class="formFieldContainer">
                                        <label><span class="material-icons-round">not_listed_location</span>Priority</label>
                                        <select name="toDoPriority" id="editToDoPriority">
                                            <option>High</option>
                                            <option>Standard</option>
                                            <option>Low</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="formColumn">
                                    <div class="formFieldContainerToDo">
                                        <h2 data-project-info="toDoProjectName" style="margin: 0;">Project Name</h2>
                                    </div>
                                    <div class="formFieldContainer">
                                        <label><span class="material-icons-round">not_listed_location</span>Responsible Person</label>
                                        <select name="edittoDoAssignedTo" id="editToDoAssignedTo">
                                        <!-- Options will be dynamically populated -->
                                        </select>
                                    </div>
                                    <div class="formFieldContainer">
                                        <label><span class="material-icons-round">not_listed_location</span>Created By</label>
                                        <select name="edittoDoCreatedBy" id="editToDoCreatedBy">
                                            <!-- Options will be dynamically populated -->
                                    </select>
                                    </div>
                                    <div class="formFieldContainer">
                                        <label><span class="material-icons-round">calendar_today</span>To-Do start date</label>
                                        <input name="editToDoStartDate" type="date" id="editToDoStartDate">
                                    </div>
                                    <div class="formFieldContainer">
                                        <label><span class="material-icons-round">calendar_month</span>To-Do last update date</label>
                                        <input name="editToDoUpdatedAt" type="date" id="editToDoUpdatedAt">
                                    </div>
                                    <div class="formFieldContainer">
                                        <label><span class="material-icons-round">paid</span>Estimated hours</label>
                                        <input name="editToDoEstimatedHours" type="number" placeholder="Estimated hours for the project" id="editToDoEstimatedHours">
                                    </div>
                                    <div class="formFieldContainer">
                                        <label><span class="material-icons-round">paid</span>Actual hours</label>
                                        <input name="editToDoActualHours" type="number" placeholder="Hours used so far" id="editToDoActualHours">
                                    </div>
                                </div>
                            </div>
                            <div class="separator-horizontal"></div>
                            <div class="formGrid">
                                <div class="formColumn">
                                    <div class="formFieldContainer">
                                        <label><span class="material-icons-round">calendar_month</span>Due Date</label>
                                        <input name="editToDoDueDate" type="date" id="editToDoDueDate">
                                    </div>
                                    <div class="formFieldContainer">
                                        <label><span class="material-icons-round">calendar_month</span>Start Date</label>
                                        <input name="editToDoStartDate" type="date" id="editToDoStartDate">
                                    </div>                              
                                </div>
                                <div class="formColumn">
                                    <div class="formFieldContainer">
                                        <label><span class="material-icons-round">not_listed_location</span>Dependencies</label>
                                        <label style="font-size: 12px; font-style: italic; padding-top: 5px;">Select the tasks this project is dependent on</label>
                                        <select name="editToDoDependencies" id="editToDoDependencies">
                                            <option>You</option>
                                            <option>Standard</option>
                                            <option>Low</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="separator-horizontal"></div>
                            <div class="formFieldContainer">
                                <label><span class="material-icons-round">subject</span>Comments</label>
                                <textarea name="editToDoComments" cols="30" rows="5" placeholder="Add any clarification comment" id="editToDoComments"></textarea>
                            </div>
                                
                            </div>
                            <div class="cancelAccept">
                                <button type="button" class="cancelButton" onclick="closeModal('editToDoModal')">Cancel</button>
                                <button type="submit" class="acceptButton" id="submitEditToDoButton">Accept</button>
                            </div>
                        </form>
                    </dialog>
                <div class = "mainPageContent">
                    <div style="display:flex;flex-direction: column;row-gap: 10px;">
                        <div class="dashboardCard">
                            <div class ="upperDashboard">
                                <p id="iconPD" style="font-size: var(--fontSizeBig); display: flex; align-items: center; justify-content: center; background-color: #6491F9; padding: 5px; border-radius: 50%; aspect-ratio: 1; width: 40px; height: 40px; color: white;" data-project-info="iconPD">
                                    HC
                                </p>
                                
                                <div style="display: flex; flex-direction: row; gap: 20px;">
                                    <button id="editProject" class="buttonSecondary" style="display: flex; align-items: center; justify-content: center; width: 100px; height: 40px; font-size: var(--fontSizeStandard);">
                                        Edit
                                    </button>    
                                    <button id="deleteProjectBtn" class="buttonSecondary" style="display: flex; align-items: center; justify-content: center; width: 100px; height: 40px; font-size: var(--fontSizeStandard);">
                                        Delete
                                    </button>          
                                </div>
                            </div>
                            <div class ="middleDashboard">
                                <h5 data-project-info="nameBigPD">Hospital Center</h5>
                                <p data-project-info="descriptionPD">Community hospital located in downtown</p>
                            </div>
                            <div class = "bottomDashboard">
                                <div>
                                    <p style="color: #969696; font-size: var(--fontSizeSmall);">Status</p>
                                    <p data-project-info="statusPD">Active</p>
                                </div>
                                <div>
                                    <p style="color: #969696; font-size: var(--fontSizeSmall);">Cost</p>
                                    <p data-project-info="costPD">2'542.00 CHF</p>
                                </div>
                                <div>
                                    <p style="color: #969696; font-size: var(--fontSizeSmall);">Role</p>
                                    <p data-project-info="rolePD">Engineer</p>
                                </div>
                                <div>
                                    <p style="color: #969696; font-size: var(--fontSizeSmall);">Start Date</p>
                                    <p data-project-info="startPD">2023-05-01</p>
                                </div>
                                <div>
                                    <p style="color: #969696; font-size: var(--fontSizeSmall);">Finish Date</p>
                                    <p data-project-info="finishPD">2023-05-01</p>
                                </div>
                            </div>
                            <div style="background-color: #404040; width: calc(100% - 40px); height: 25px; border-radius: 50px; overflow: hidden; margin: 20px auto 30px auto; position: relative;">
                                <div id="percentageDiv" style="width: 0%; height: 100%; background-color: green; border-radius: 10px 0 0 10px; display: flex; justify-content: center; align-items: center; position: relative; color: white; font-weight: bold;">
                                    <span id="progressText" style="position: absolute; width: 100%; text-align: center; left: 0;">0%</span>
                                </div>
                            </div>
                        </div>
                        <div class="dashboardCard" style="flex-grow: 1;">
                            <div id="toDoList" style="display: flex; flex-direction: column; align-items: stretch; justify-content: flex-start; padding: 20px;">
                                <!-- Header Section -->
                                <div style="display: flex; align-items: center; justify-content: space-between;">
                                    <h4>To-Do</h4>
                                    <div style="display: flex; align-items: center; padding-left: 80px;">
                                        <span class="material-icons-round" style="padding-right: 10px;">search</span>
                                        <input type="text" style="font-size: var(--fontSizeSmall);" placeholder="Search To-Do's by name">
                                    </div>
                                    <button id="newToDoBtn" class="buttonTertiary"><span class="material-icons-round">add</span></button>
                                </div>

                                <!-- To-Do List Container -->
                                <div id="toDoListContainer" style="display: flex; flex-direction: column; row-gap: 10px; margin-top: 20px;">
                                    <!-- To-Do list items will be appended here -->
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="viewerContainer" class="dashboardCard" style = "min-width: 0; min-height: 700px; max-height: 700px;"></div>  
                </div>
                
            </div>
            <div class="page" id = "usersPage" style = "display: none">
                <dialog id="newUserModal">
                    <form class="userForm" id="newUserForm">
                        <h2>New User</h2>
                        <div class="userCard">
                            <div class="formFieldContainer">
                                <label><span class="material-icons-round">subject</span>Name</label>
                                <input name="name" type="text">
                            </div>
                            <div class="formFieldContainer">
                                <label><span class="material-icons-round">subject</span>Surname</label>
                                <input name="surname" type="text">
                            </div>
                            <div class="formFieldContainer">
                                <label><span class="material-icons-round">email</span>Email Address</label>
                                <input name="email" type="text">
                            </div>
                            <div class="formFieldContainer">
                                <label><span class="material-icons-round">call</span>Telephone Number</label>
                                <input name="phone" type="text">
                            </div>
                            <div class="formFieldContainer">
                                <label><span class="material-icons-round">account_circle</span>Role</label>
                                <select name="usersRole">
                                    <option>Architect</option>
                                    <option>Engineer</option>
                                    <option>Developer</option>
                                </select>
                            </div>
                            <div class="formFieldContainer">
                                <label><span class="material-icons-round">vpn_key</span>Access rights</label>
                                <select name="access">
                                    <option>Administrator</option>
                                    <option>Editor</option>
                                    <option>Guest</option>
                                </select>
                            </div>
                            <div class="formFieldContainer">
                                <label><span class="material-icons-round">business</span>Company Name</label>
                                <input name="company" type="text">
                            </div>
                        </div>
                        <div class="cancelAccept">
                            <button type="button" class="cancelButton" onclick="closeModal('newUserModal')">Cancel</button>
                            <button type="submit" class="acceptButton" id="UserCreateButton">Accept</button>
                        </div>
                    </form>
                </dialog>
                <dialog id="ChangeUserModal">
                    <form class="userForm" id="newUserForm">
                        <h2>Change User</h2>
                        <div class="userCard">
                            <div class="formFieldContainer">
                                <label><span class="material-icons-round">subject</span>Name</label>
                                <input name="CH_name" type="text">
                            </div>
                            <div class="formFieldContainer">
                                <label><span class="material-icons-round">subject</span>Surname</label>
                                <input name="CH_surname" type="text">
                            </div>
                            <div class="formFieldContainer">
                                <label><span class="material-icons-round">email</span>Email Address</label>
                                <input name="CH_email" type="text">
                            </div>
                            <div class="formFieldContainer">
                                <label><span class="material-icons-round">call</span>Telephone Number</label>
                                <input name="CH_phone" type="text">
                            </div>
                            <div class="formFieldContainer">
                                <label><span class="material-icons-round">account_circle</span>Role</label>
                                <select name="CH_usersRole">
                                    <option>Architect</option>
                                    <option>Engineer</option>
                                    <option>Developer</option>
                                </select>
                            </div>
                            <div class="formFieldContainer">
                                <label><span class="material-icons-round">vpn_key</span>Access rights</label>
                                <select name="CH_access">
                                    <option>Administrator</option>
                                    <option>Editor</option>
                                    <option>Guest</option>
                                </select>
                            </div>
                            <div class="formFieldContainer">
                                <label><span class="material-icons-round">business</span>Company Name</label>
                                <input name="CH_company" type="text">
                            </div>
                        </div>
                        <div class="cancelAccept">
                            <button type="button" class="cancelButton" onclick="closeModal('ChangeUserModal')">Cancel</button>
                            <button type="submit" class="acceptButton" id="UserChangeAcceptButton">Accept</button>
                        </div>
                    </form>
                </dialog>
                <dialog id="newCompanyModal">
                    <form class="userForm" id="newCompanyForm">
                        <h2>New Company</h2>
                        <div class="userCard">
                            <div class="formFieldContainer">
                                <label><span class="material-icons-round">subject</span>Company Name</label>
                                <input type="text" name="cName">
                            </div>
                            <div class="formFieldContainer">
                                <label><span class="material-icons-round">subject</span>Company Address</label>
                                <input type="text" name="cAddress">
                            </div>
                            <div class="formFieldContainer">
                                <label><span class="material-icons-round">email</span>Contact Email</label>
                                <input type="text" name="cEmail">
                            </div>
                            <div class="formFieldContainer">
                                <label><span class="material-icons-round">call</span>Telephone Number</label>
                                <input type="tel" name="cPhone">
                            </div>
                        </div>
                        <div class="cancelAccept">
                            <button type="button" class="cancelButton" onclick="closeModal('newCompanyModal')">Cancel</button>
                            <button type="submit" class="acceptButton">Accept</button>
                        </div>
                    </form>
                </dialog>     
                <header>
                    <h2>Users</h2>
                    <div style="display: flex;flex-direction: row;column-gap: 10px;">
                        <button id="newUserBtn" class="buttonTertiary"><span class="material-icons-round">add</span><span class="material-icons-round">person</span></button>
                        <button id="newCompanyBtn" class="buttonTertiary"><span class="material-icons-round">add</span><span class="material-icons-round">business</span></button>
                    </div>
                </header>
                <div style="display: flex; flex-direction: row; font-size: var(--fontSizeStandard); height: 40px; column-gap: 100px;padding-left: 30px;">
                    <div style="display: flex; flex-direction: row;">
                        <label style="padding-left: 10px;">Total number of Users:</label>
                        <label style="padding-left: 15px;" id="userCount">3</label>
                    </div>
                    <div style="position: relative; display: flex; column-gap: 20px; align-items:start;">
                        <span class="material-icons-round" 
                            style="position: absolute; left: 10px; top: calc(50% - 12px); font-size: 24px; color: #969696;">
                            search
                        </span>
                        <input type="text" placeholder="Search" 
                            style="padding-left: 40px; height: 10px; width: 200px; font-size: var(--fontSizeStandard); line-height: 10px;">
                        <button class="buttonSecondary" 
                                style="width: 60px; display: flex; align-items: center; justify-content: center;">
                            <span class="material-icons-round">filter_list</span>
                        </button>
                    </div>
                </div>
                <div style="display: grid; grid-template-columns: 2fr 1fr 1fr 1fr 1fr 1fr 1fr; padding-left: 30px;padding-right: 30px;padding-top: 30px; column-gap: 20px; align-items: center;">
                    <label style="padding-left: 10px;">User name</label>
                    <label>Access</label>
                    <label>Role</label>
                    <label>Company</label>
                    <label>Last active</label>
                    <label style="justify-self: end;">Edit</label>
                </div>
                <div>
                </div>
                <div >
                    <div id="usersList" class="usersList" style="display: flex; flex-direction: column; row-gap: 10px; padding-left: 30px; padding-right: 30px">
                    </div>
                </div>
            </div>
        </main>
    </div> 
    <script type="module" src="./src/index.tsx"></script>
</body>
</html>